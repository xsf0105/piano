var Me=Object.defineProperty;var Te=(n,e,t)=>e in n?Me(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Y=(n,e,t)=>(Te(n,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function A(n){"@babel/helpers - typeof";return A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(n)}function Ne(n,e){if(A(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(A(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Ce(n){var e=Ne(n,"string");return A(e)==="symbol"?e:String(e)}function k(n,e,t){return e=Ce(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var oe={},xe=[],Le=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function we(n){var e=n.parentNode;e&&e.removeChild(n)}function O(n){return typeof n=="function"}var ae=xe.slice,v={_catchError:function(n,e,t,r){for(var o,a,i;e=e._parent;)if((o=e._component)&&!o._processingException)try{if((a=o.constructor)&&a.getDerivedStateFromError!=null&&(Object.assign(o,a.getDerivedStateFromError(n)),i=o._dirty),o.componentDidCatch!=null&&(o.componentDidCatch(n,r||{}),i=o._dirty),i)return o._pendingError=o}catch(c){n=c}throw n}},Re=0;function Pe(n,e,t){var r,o,a,i={};for(a in e)a=="key"?r=e[a]:a=="ref"?o=e[a]:i[a]=e[a];if(arguments.length>2&&(i.children=arguments.length>3?ae.call(arguments,2):t),typeof n=="function"&&n.defaultProps!=null)for(a in n.defaultProps)i[a]===void 0&&(i[a]=n.defaultProps[a]);return I(n,i,r,o,null)}function I(n,e,t,r,o){var a={type:n,props:e,key:t,ref:r,_children:null,_parent:null,_depth:0,_dom:null,_nextDom:void 0,_component:null,_hydrating:null,constructor:void 0,_original:o??++Re};return o==null&&v.vnode!=null&&v.vnode(a),a}function F(n){return n.children}function Ee(n){this.props=n,this._dirty=!1}function z(n,e){if(e==null)return n._parent?z(n._parent,n._parent._children.indexOf(n)+1):null;for(var t;e<n._children.length;e++)if((t=n._children[e])!=null&&t._dom!=null)return t._dom;return typeof n.type=="function"?z(n):null}function ce(n,e,t,r,o,a,i){var c,s,l,u,m,w,_,y=r&&r._children||xe,d=y.length;for(t._children=[],c=0;c<e.length;c++)if((u=(u=e[c])==null||typeof u=="boolean"||typeof u=="function"?t._children[c]=null:typeof u=="string"||typeof u=="number"||typeof u=="bigint"?t._children[c]=I(null,u,null,null,u):Array.isArray(u)?t._children[c]=I(F,{children:u},null,null,null):u._depth>0?t._children[c]=I(u.type,u.props,u.key,u.ref?u.ref:null,u._original):t._children[c]=u)!=null){if(u._parent=t,u._depth=t._depth+1,(l=y[c])===null||l&&u.key==l.key&&u.type===l.type)y[c]=void 0;else for(s=0;s<d;s++){if((l=y[s])&&u.key==l.key&&u.type===l.type){y[s]=void 0;break}l=null}Ae(n,u,l=l||oe,o,a,i),m=u._dom,(s=u.ref)&&l.ref!=s&&(_||(_=[]),l.ref&&_.push(l.ref,null,u),_.push(s,u._component||m,u)),m!=null?(w==null&&(w=m),typeof u.type=="function"&&u._children===l._children?u._nextDom=i=Se(u,i,n):i=De(n,u,l,y,m,i),typeof t.type=="function"&&(t._nextDom=i)):i&&l._dom==i&&i.parentNode!=n&&(i=z(l))}for(t._dom=w,c=d;c--;)y[c]!=null&&(typeof t.type=="function"&&y[c]._dom!=null&&y[c]._dom==t._nextDom&&(t._nextDom=Oe(r).nextSibling),$e(y[c],y[c]));if(_)for(c=0;c<_.length;c++)Ge(_[c],_[++c],_[++c])}function Se(n,e,t){for(var r=n._children,o=0;r&&o<r.length;o++){var a=r[o];a&&(a._parent=n,e=typeof a.type=="function"?Se(a,e,t):De(t,a,a,r,a._dom,e))}return e}function De(n,e,t,r,o,a){var i;if(e._nextDom!==void 0)i=e._nextDom,e._nextDom=void 0;else if(t==null||o!=a||o.parentNode==null)e:if(a==null||a.parentNode!==n)n.appendChild(o),i=null;else{for(var c=a,s=0;(c=c.nextSibling)&&s<r.length;s+=1)if(c==o)break e;n.insertBefore(o,a),i=a}return a=i!==void 0?i:o.nextSibling}function Oe(n){if(n.type==null||typeof n.type=="string")return n._dom;if(n._children)for(var e=n._children.length-1;e>=0;e--){var t=n._children[e];if(t){var r=Oe(t);if(r)return r}}return null}function pe(n,e,t){e[0]==="-"?n.setProperty(e,t??""):t==null?n[e]="":typeof t!="number"||Le.test(e)?n[e]=t:n[e]=t+"px"}function L(n,e,t,r,o){var a;e:if(e==="style")if(typeof t=="string")n.style.cssText=t;else{if(typeof r=="string"&&(n.style.cssText=r=""),r)for(e in r)t&&e in t||pe(n.style,e,"");if(t)for(e in t)r&&t[e]===r[e]||pe(n.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")if(a=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in n?e.toLowerCase().slice(2):e.slice(2),n._listeners||(n._listeners={}),n._listeners[e+a]=t,t){if(!r){var i=a?de:ue;n.addEventListener(e,i,a)}}else{var c=a?de:ue;n.removeEventListener(e,c,a)}else if(e!=="dangerouslySetInnerHTML"){if(o)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in n)try{n[e]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&e.indexOf("-")==-1?n.removeAttribute(e):n.setAttribute(e,t))}}function ue(n){return this._listeners[n.type+!1](v.event?v.event(n):n)}function de(n){return this._listeners[n.type+!0](v.event?v.event(n):n)}function Ae(n,e,t,r,o,a){var i,c=e.type;if(e.constructor!==void 0)return null;(i=v._diff)&&i(e);try{e:if(typeof c=="function"){var s,l,u,m=e.props;if(t._component?u=(s=e._component=t._component)._processingException=s._pendingError:("prototype"in c&&c.prototype.render,e._component=s=new Ee(m),s.constructor=c,s.render=Ie,s.props=m,l=s._dirty=!0),s.props,s._vnode=e,!l){if(e._original===t._original){e._dom=t._dom,e._children=t._children,e._children.forEach(d=>{d&&(d._parent=e)});break e}}s.props=m,s._parentDom=n;var w=v._render,_=0;do s._dirty=!1,w&&w(e),i=s.render(s.props);while(s._dirty&&++_<25);var y=i!=null&&i.type===F&&i.key==null?i.props.children:i;ce(n,Array.isArray(y)?y:[y],e,t,r,o,a),s.base=e._dom,u&&(s._pendingError=s._processingException=null)}else o==null&&e._original===t._original?(e._children=t._children,e._dom=t._dom):e._dom=function(d,$,j,M,b){var P=j.props,C=$.props,x=$.type,f=0;if(x==="svg"&&(M=!0),b!=null)for(;f<b.length;f++){var B=b[f];if(B&&"setAttribute"in B==!!x&&(x?B.localName===x:B.nodeType===3)){d=B,b[f]=null;break}}if(d==null){if(x===null)return document.createTextNode(C);d=M?document.createElementNS("http://www.w3.org/2000/svg",x):document.createElement(x,C.is&&C),b=null}if(x===null)P!==C&&(d.data=C);else{b=b&&ae.call(d.childNodes);var Q=(P=j.props||oe).dangerouslySetInnerHTML,D=C.dangerouslySetInnerHTML;if(b!=null)for(P={},f=0;f<d.attributes.length;f++)P[d.attributes[f].name]=d.attributes[f].value;if((D||Q)&&(D&&(Q&&D.__html==Q.__html||D.__html===d.innerHTML)||(d.innerHTML=D&&D.__html||"")),function(le,T,N,se){var h;for(h in N)h==="children"||h==="key"||h in T||L(le,h,null,N[h],se);for(h in T)h!=="children"&&h!=="key"&&h!=="value"&&h!=="checked"&&N[h]!==T[h]&&L(le,h,T[h],N[h],se)}(d,C,P,M),D)$._children=[];else if(f=$.props.children,ce(d,Array.isArray(f)?f:[f],$,j,M&&x!=="foreignObject",b,b?b[0]:j._children&&z(j,0)),b!=null)for(f=b.length;f--;)b[f]!=null&&we(b[f]);"value"in C&&(f=C.value)!==void 0&&(f!==d.value||x==="progress"&&!f||x==="option"&&f!==P.value)&&L(d,"value",f,P.value,!1),"checked"in C&&(f=C.checked)!==void 0&&f!==d.checked&&L(d,"checked",f,P.checked,!1)}return d}(t._dom,e,t,r,o);(i=v.diffed)&&i(e)}catch(d){e._original=null,o!=null&&(e._dom=a,o[o.indexOf(a)]=null),v._catchError(d,e,t)}}function Ge(n,e,t){try{typeof n=="function"?n(e):n.current=e}catch(r){v._catchError(r,t)}}function $e(n,e,t){var r;if(v.unmount&&v.unmount(n),(r=n.ref)&&(r.current&&r.current!==n._dom||Ge(r,null,e)),(r=n._component)!=null&&(r.base=r._parentDom=null,n._component=void 0),r=n._children)for(var o=0;o<r.length;o++)r[o]&&$e(r[o],e,t||typeof n.type!="function");t||n._dom==null||we(n._dom),n._parent=n._dom=n._nextDom=void 0}function Ie(n){return this.constructor(n)}Ee.prototype.render=F;class ie{constructor(){k(this,"map",new Map)}get(e,t){var r=this.map.get(e);if(r)return t?r.get(t):r}set(e,t,r){var o,a=this.map.get(e);a||(a=new Map,this.map.set(e,a)),(o=a)===null||o===void 0||o.set(t,r)}forEach(e){this.map.forEach((t,r)=>{t.forEach((o,a)=>{e(o,r,a)})})}delete(e){this.map.delete(e)}deleteAll(){this.map.forEach((e,t)=>{this.map.delete(t)})}}class Ue{constructor(){k(this,"eventMap",new ie),k(this,"bindListener",(e,t,r)=>{if(e&&t&&r){var o=this.eventMap.get(e,t);o||(o=new Set,this.eventMap.set(e,t,o)),o.has(r)||(o.add(r),e.addEventListener(t,r,!0))}}),k(this,"removeAllListener",()=>{this.eventMap.forEach((e,t,r)=>{e.forEach(o=>{t.removeEventListener(r,o,!0)})}),this.eventMap.deleteAll()})}}var Ve=F;~location.href.indexOf("localhost")&&console.info("%cquarkc@".concat("1.0.40"),"color: white;background:#9f57f8;font-weight:bold;font-size:10px;padding:2px 6px;border-radius: 5px","Running in dev mode.");var U=n=>!(n||n===!1||n===0),ze={observed:!0,type:String,converter:(n,e)=>{var t=n;switch(e){case Number:t=U(n)?n:Number(n);break;case Boolean:t=!([null,"false",!1,void 0].indexOf(n)>-1)}return t}},Z=new ie,ee=new ie;function q(n){var{tag:e,style:t=""}=typeof n=="string"?{tag:n}:n;return r=>{class o extends r{static get observedAttributes(){var i=[],c=Z.get(r);return c&&c.forEach((s,l)=>{s.observed&&i.push(l)}),i}static isBooleanProperty(i){var c=!1,s=Z.get(r);return s&&s.forEach((l,u)=>{if(l.type===Boolean&&i===u)return c=!0}),c}constructor(){super();var i=this.attachShadow({mode:"open"});if(i)if(typeof CSSStyleSheet=="function"&&i.adoptedStyleSheets){var c=new CSSStyleSheet;c.replaceSync(t),i.adoptedStyleSheets=[c]}else{var s=document.createElement("style");s.innerHTML=t,i.append(s)}var l=ee.get(Object.getPrototypeOf(this.constructor));l&&l.forEach((u,m)=>{Object.defineProperty(this,m,u(this[m]))})}}customElements.get(e)||customElements.define(e,o)}}class p extends HTMLElement{constructor(){super(...arguments),k(this,"eventController",new Ue),k(this,"rootPatch",e=>{this.shadowRoot&&function(t,r){v._root&&v._root(t,r);var o=r._children;t=r._children=Pe(F,null,[t]),Ae(r,t,o||oe,r.ownerSVGElement!==void 0,o?null:r.firstChild?ae.call(r.childNodes):null,o?o._dom:r.firstChild)}(e,this.shadowRoot)}),k(this,"$on",(e,t,r)=>this.eventController.bindListener(r||this,e,t))}static getPropertyDescriptor(e,t){return r=>({get(){var o=this.getAttribute(e);return U(r)||!U(o)||t.type===Boolean&&o===""?(O(t.converter)&&(o=t.converter(o,t.type)),o):r},set(o){var a=o;O(t.converter)&&(a=t.converter(o,t.type)),U(a)?this.removeAttribute(e):typeof a=="boolean"?a?this.setAttribute(e,""):this.removeAttribute(e):this.setAttribute(e,a)},configurable:!0,enumerable:!0})}static getStateDescriptor(e){return t=>{var r=t;return{get:()=>r,set(o){var a=r;r=o,this._render(),O(this.componentDidUpdate)&&this.componentDidUpdate(e,a,o)},configurable:!0,enumerable:!0}}}static createProperty(e,t){var r=Object.assign({},ze,t),o=t.attribute||e;Z.set(this,o,r),ee.set(this,e,this.getPropertyDescriptor(o,r))}static createState(e){ee.set(this,e,this.getStateDescriptor(e))}_render(){var e=this.render();e&&this.rootPatch(e)}requestUpdate(){this._render()}update(){this._render()}_updateProperty(){this.constructor.observedAttributes.forEach(e=>{this[e]=this[e]})}_updateBooleanProperty(e){this.constructor.isBooleanProperty(e)&&(this[e]||(this[e]=this[e]))}$emit(e,t){return this.dispatchEvent(new CustomEvent(e,Object.assign({bubbles:!0},t)))}componentDidMount(){}componentWillUnmount(){}shouldComponentUpdate(e,t,r){return t!==r}componentDidUpdate(e,t,r){}render(){return""}connectedCallback(){this._updateProperty(),this._render(),O(this.componentDidMount)&&this.componentDidMount()}attributeChangedCallback(e,t,r){var o=this[e]||r;O(this.shouldComponentUpdate)&&!this.shouldComponentUpdate(e,t,o)||(this._render(),O(this.componentDidUpdate)&&this.componentDidUpdate(e,t,o),r!==t&&this._updateBooleanProperty(e))}disconnectedCallback(){O(this.componentWillUnmount)&&this.componentWillUnmount(),this.eventController.removeAllListener(),this.rootPatch(null)}}k(p,"h",Pe),k(p,"Fragment",Ve);const He=`*{margin:0;padding:0}
`,qe=`*{margin:0;padding:0}.container{width:100%;margin-right:auto;margin-left:auto}.text-white{color:#fff!important}.text-sm-center{text-align:center!important}.mt-4,.my-4{margin-top:1.5rem!important}.pb-5,.py-5{padding-bottom:3rem!important}.pt-5,.py-5{padding-top:3rem!important}.btn:not(:disabled):not(.disabled){cursor:pointer}.btn-group-lg>.btn,.btn-lg{padding:5px 10px;font-size:12px;line-height:15px;border-radius:3px}.btn-outline-light{color:#f8f9fa;background-color:transparent;background-image:none;border-color:#f8f9fa}.btn{display:inline-block;font-weight:400;text-align:center;white-space:nowrap;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:1px solid transparent;border-top-color:transparent;border-right-color:transparent;border-bottom-color:transparent;border-left-color:transparent;padding:15px 7.5px;font-size:15px;line-height:15px;border:1px solid #fff;border-radius:5px;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}a{margin:0 10px;text-decoration:none}.text-center{margin-top:12px;text-align:center!important}p{margin:0 10px}
`;var Ke=Object.defineProperty,We=Object.getOwnPropertyDescriptor,Qe=(n,e,t,r)=>{for(var o=r>1?void 0:r?We(e,t):e,a=n.length-1,i;a>=0;a--)(i=n[a])&&(o=(r?i(e,t,o):i(o))||o);return r&&o&&Ke(e,t,o),o};let fe=class extends p{render(){return p.h("div",null,p.h("div",{style:"background: rgb(51, 51, 51) none repeat scroll 0% 0%;"},p.h("div",{class:"container"},p.h("div",{class:"text-sm-center text-white py-5"},p.h("h1",null,"Quarkc Piano"),p.h("p",null,"An interactive piano keyboard for Quarkc. Supports custom sounds,",p.h("br",{class:"d-none d-sm-block"}),"touch/click/keyboard events, and fully auto play song."),p.h("div",{class:"mt-4"},p.h("a",{class:"btn btn-outline-light btn-lg",href:"https://github.com/xsf0105/piano"},"View docs on Github"),p.h("a",{class:"btn btn-outline-light btn-lg",href:"https://github.com/xsf0105/piano"},"查看该项目Github地址"))))),p.h("div",{class:"text-center"},p.h("p",{class:""},"Try it by clicking, tapping, or using your keyboard 1 to 9:"),p.h("p",{class:""},"鼠标点击钢琴键或者键盘按数字键 1 ~ 9:"),p.h("div",{style:"color: rgb(119, 119, 119);"},p.h("svg",{fill:"currentColor",preserveAspectRatio:"xMidYMid meet",height:"32",width:"32",viewBox:"0 0 40 40",style:"vertical-align: middle;"},p.h("g",null,p.h("path",{d:"m33.4 20l-13.4 13.4-13.4-13.4 2.5-2.3 9.3 9.3v-20.4h3.2v20.4l9.4-9.3z"}))))))}};fe=Qe([q({tag:"app-header",style:qe})],fe);const Ye=`hr{margin:0 50px;border:0;border-top-color:currentcolor;border-top-style:none;border-top-width:0px;border-top:1px solid rgba(0,0,0,.1)}hr{box-sizing:content-box;height:0;overflow:visible}.bg-yellow{background-color:#f8e8d5}.container{line-height:50px;height:50px;width:100%;margin-right:auto;margin-left:auto}.text-secondary{color:#6c757d!important}.text-center{text-align:center!important}.code{padding:0 250px}@media screen and (max-width: 1000px){.code{padding:0 20px}}code{overflow:hidden;background-color:#ececec;width:100%;display:block;padding:10px 0}
`;function Xe(n,e){return e.get?e.get.call(n):e.value}function je(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}function R(n,e){var t=je(n,e,"get");return Xe(n,t)}function Je(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}function X(n,e,t){var r=je(n,e,"set");return Je(n,r,t),t}function Ze(n){if(Array.isArray(n))return n}function et(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,o,a,i,c=[],s=!0,l=!1;try{if(a=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=a.call(t)).done)&&(c.push(r.value),c.length!==e);s=!0);}catch(u){l=!0,o=u}finally{try{if(!s&&t.return!=null&&(i=t.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}function he(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function tt(n,e){if(n){if(typeof n=="string")return he(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return he(n,e)}}function nt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H(n,e){return Ze(n)||et(n,e)||tt(n,e)||nt()}function K(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function me(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Ce(r.key),r)}}function W(n,e,t){return e&&me(n.prototype,e),t&&me(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function G(n){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},G(n)}function rt(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&(n=G(n),n!==null););return n}function V(){return typeof Reflect<"u"&&Reflect.get?V=Reflect.get.bind():V=function(e,t,r){var o=rt(e,t);if(o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?e:r):a.value}},V.apply(this,arguments)}function te(n,e){return te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},te(n,e)}function ot(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&te(n,e)}function at(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function it(n,e){if(e&&(A(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return at(n)}function lt(n,e,t){(function(r,o){if(o.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}function ne(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=function(s,l){if(s){if(typeof s=="string")return ye(s,l);var u=Object.prototype.toString.call(s).slice(8,-1);if(u==="Object"&&s.constructor&&(u=s.constructor.name),u==="Map"||u==="Set")return Array.from(s);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return ye(s,l)}}(n))||e&&n&&typeof n.length=="number"){t&&(n=t);var r=0,o=function(){};return{s:o,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(s){throw s},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,i=!0,c=!1;return{s:function(){t=t.call(n)},n:function(){var s=t.next();return i=s.done,s},e:function(s){c=!0,a=s},f:function(){try{i||t.return==null||t.return()}finally{if(c)throw a}}}}function ye(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function st(n){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=G(n);if(e){var o=G(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return it(this,t)}}var Be=function(n){return function(e){ot(r,e);var t=st(r);function r(){var o;return K(this,r),(o=t.call(this))._observers=[],o.update(),o}return W(r,[{key:"update",value:function(){re.start(),V(G(r.prototype),"update",this).call(this),this._initStateObservers()}},{key:"_initStateObservers",value:function(){this._clearStateObservers(),this._addStateObservers(re.finish())}},{key:"_addStateObservers",value:function(o){var a,i=this,c=ne(o);try{for(c.s();!(a=c.n()).done;){var s=H(a.value,2),l=s[0],u=s[1],m=function(){return i.requestUpdate()};this._observers.push([l,m]),l.addObserver(m,u)}}catch(w){c.e(w)}finally{c.f()}}},{key:"_clearStateObservers",value:function(){var o,a=ne(this._observers);try{for(a.s();!(o=a.n()).done;){var i=H(o.value,2),c=i[0],s=i[1];c.removeObserver(s)}}catch(l){a.e(l)}finally{a.f()}this._observers=[]}}]),r}(n)},ct=function(){function n(){K(this,n),k(this,"_observers",void 0),this._observers=[],this._initStateVars()}return W(n,[{key:"addObserver",value:function(e,t){this._observers.push({observer:e,keys:t})}},{key:"removeObserver",value:function(e){this._observers=this._observers.filter(function(t){return t.observer!==e})}},{key:"_initStateVars",value:function(){if(this.constructor.stateVarOptions)for(var e=0,t=Object.entries(this.constructor.stateVarOptions);e<t.length;e++){var r=H(t[e],2),o=r[0],a=r[1];this._initStateVar(o,a)}if(this.constructor.stateVars)for(var i=0,c=Object.entries(this.constructor.stateVars);i<c.length;i++){var s=H(c[i],2),l=s[0],u=s[1];this._initStateVar(l,{}),this[l]=u}}},{key:"_initStateVar",value:function(e,t){var r=this;if(!this.hasOwnProperty(e)){var o=new(t=this._parseOptions(t)).handler({options:t,recordRead:function(){return r._recordRead(e)},notifyChange:function(){return r._notifyChange(e)}});Object.defineProperty(this,e,{get:function(){return o.get()},set:function(a){o.shouldSetValue(a)&&o.set(a)},configurable:!0,enumerable:!0})}}},{key:"_parseOptions",value:function(e){return e.handler?e.propertyMethod&&e.propertyMethod.kind==="method"&&Object.assign(e,e.propertyMethod.descriptor.value.call(this)):e.handler=pt,e}},{key:"_recordRead",value:function(e){re.recordRead(this,e)}},{key:"_notifyChange",value:function(e){var t,r=ne(this._observers);try{for(r.s();!(t=r.n()).done;){var o=t.value;o.keys&&!o.keys.includes(e)||o.observer(e)}}catch(a){r.e(a)}finally{r.f()}}}]),n}(),pt=function(){function n(e){K(this,n),k(this,"options",void 0),k(this,"recordRead",void 0),k(this,"notifyChange",void 0),k(this,"value",void 0),this.options=e.options,this.recordRead=e.recordRead,this.notifyChange=e.notifyChange,this.value=void 0}return W(n,[{key:"get",value:function(){return this.recordRead(),this.value}},{key:"set",value:function(e){this.value=e,this.notifyChange()}},{key:"shouldSetValue",value:function(e){return this.value!==e}}]),n}(),E=new WeakMap,re=new(function(){function n(){K(this,n),lt(this,E,{writable:!0,value:void 0}),X(this,E,null)}return W(n,[{key:"start",value:function(){X(this,E,new Map)}},{key:"recordRead",value:function(e,t){if(R(this,E)){var r=R(this,E).get(e)||[];r.includes(t)||r.push(t),R(this,E).set(e,r)}}},{key:"finish",value:function(){var e=R(this,E);return X(this,E,null),e}}]),n}());class ut extends ct{static get stateVars(){return{count:0,song:[]}}sub(){this.count--}add(){this.count++}setSong(e){const t=[];e.map((o,a)=>{t.push({...o,index:a})});const r=[];for(let o=0;o<t.length;o+=30)r.push(t.slice(o,o+30));this.song=r}}const g=new ut,be=[{note:"G3",time:500},{note:"C4",time:1e3},{note:"E4",time:500},{note:"G4",time:1e3},{note:"C4",time:500},{note:"B3",time:1e3},{note:"E4",time:500},{note:"G4",time:1500},{note:"G4",time:500},{note:"A4",time:1e3},{note:"B4",time:500},{note:"C5",time:1e3},{note:"A4",time:500},{note:"G4",time:1500},{note:"E4",time:500},{note:"D4",time:500},{note:"C4",time:1e3},{note:"C4",time:500},{note:"C4",time:500},{note:"E4",time:500},{note:"D4",time:500},{note:"C4",time:1e3},{note:"C4",time:500},{note:"C4",time:500},{note:"D4",time:500},{note:"E4",time:500},{note:"D4",time:1e3},{note:"C4",time:500},{note:"A3",time:500},{note:"D4",time:500},{note:"E4",time:500},{note:"D4",time:1500},{note:"G3",time:500},{note:"C4",time:1e3},{note:"E4",time:500},{note:"G4",time:1e3},{note:"C4",time:500},{note:"B3",time:1e3},{note:"E4",time:500},{note:"G4",time:1500},{note:"G4",time:500},{note:"A4",time:1e3},{note:"B4",time:500},{note:"C5",time:1e3},{note:"A4",time:500},{note:"G4",time:1500},{note:"E4",time:500},{note:"D4",time:500},{note:"C4",time:1e3},{note:"C4",time:500},{note:"C4",time:500},{note:"E4",time:500},{note:"D4",time:500},{note:"C4",time:1e3},{note:"C4",time:500},{note:"C4",time:500},{note:"D4",time:500},{note:"E4",time:500},{note:"D4",time:1e3},{note:"C4",time:500},{note:"A3",time:500},{note:"D4",time:500},{note:"E4",time:500},{note:"D4",time:1500},{note:"E4",time:500},{note:"G4",time:500},{note:"E4",time:1e3},{note:"D4",time:500},{note:"C4",time:500},{note:"G4",time:500},{note:"B3",time:1500},{note:"A3",time:500},{note:"B3",time:500},{note:"A3",time:1e3},{note:"B3",time:500},{note:"A3",time:500},{note:"G3",time:500},{note:"E4",time:1500},{note:"G4",time:500},{note:"E4",time:1e3},{note:"D4",time:500},{note:"C4",time:500},{note:"G4",time:500},{note:"B3",time:1500},{note:"A3",time:500},{note:"B3",time:500},{note:"C4",time:1e3},{note:"C4",time:500},{note:"C4",time:500},{note:"D4",time:500},{note:"E4",time:500},{note:"D4",time:1500},{note:"G3",time:500},{note:"C4",time:1e3},{note:"E4",time:500},{note:"G4",time:1e3},{note:"C4",time:500},{note:"B3",time:1e3},{note:"E4",time:500},{note:"G4",time:1500},{note:"G4",time:500},{note:"A4",time:1e3},{note:"B4",time:500},{note:"C5",time:1e3},{note:"A4",time:500},{note:"G4",time:1500},{note:"E4",time:500},{note:"D4",time:500},{note:"C4",time:1e3},{note:"C4",time:500},{note:"C4",time:500},{note:"E4",time:500},{note:"D4",time:500},{note:"C4",time:1e3},{note:"C4",time:500},{note:"C4",time:500},{note:"D4",time:500},{note:"E4",time:500},{note:"D4",time:1e3},{note:"A3",time:1e3},{note:"B3",time:500},{note:"C4",time:1e3},{note:"D4",time:500},{note:"C4",time:1e3}],Fe=[...be,...be],dt={A2:"Shift+6",A3:"Ctrl+6",A4:"6",A5:"Option+6",A6:"Command+6","A#3":"Ctrl+t","A#4":"t","A#5":"Option+t","A#6":"Command+t",B2:"Shift+7",B3:"Ctrl+7",B4:"7",B5:"Option+7",B6:"Command+7",C2:"Shift+1",C3:"Ctrl+1",C4:"1",C5:"Option+1",C6:"Command+1",C7:"","C#2":"Shift+q","C#3":"Ctrl+q","C#4":"q","C#5":"Option+q","C#6":"Command+q",D2:"Shift+2",D3:"Ctrl+2",D4:"2",D5:"Option+2",D6:"Command+2","D#2":"Shift+w","D#3":"Ctrl+w","D#4":"w","D#5":"Option+w","D#6":"Command+w",E2:"Shift+3",E3:"Ctrl+3",E4:"3",E5:"Option+3",E6:"Command+3","E#2":"Shift+e","E#3":"Ctrl+e","E#4":"e","E#5":"Option+e","E#6":"Command+e",F2:"Shift+4",F3:"Ctrl+4",F4:"4",F5:"Option+4",F6:"Command+4","E#2":"Shift+e","E#3":"Ctrl+e","E#4":"e","E#5":"Option+e","E#6":"Command+e",G2:"Shift+5",G3:"Ctrl+5",G4:"5",G5:"Option+5",G6:"Command+5","G#2":"./samples/piano/b53.mp3","G#3":"./samples/piano/b87.mp3","G#4":"./samples/piano/b79.mp3","G#5":"./samples/piano/b72.mp3","G#6":"./samples/piano/b86.mp3"};var ft=Object.defineProperty,ht=Object.getOwnPropertyDescriptor,mt=(n,e,t,r)=>{for(var o=r>1?void 0:r?ht(e,t):e,a=n.length-1,i;a>=0;a--)(i=n[a])&&(o=(r?i(e,t,o):i(o))||o);return r&&o&&ft(e,t,o),o};let ve=class extends Be(p){componentDidMount(){g.setSong(Fe)}render(){return p.h("div",{class:"app-footer"},p.h("hr",{class:"mt-5"}),p.h("div",{class:"row mt-5"},p.h("div",{class:"col"},p.h("div",{class:"text-center"},p.h("p",{class:"mt-4"},"You can click on the keyboard and play the melody that belongs to you. Here is an example of a piano piece:"),p.h("p",null,"你可以点击键盘依顺序按以下键，控制好节奏演奏属于你的旋律，下面是一首钢琴曲的例子:"),p.h("p",{class:"mt-4"},"Enjoy it!"),g.song.map(n=>{if(n[0].note)return p.h("p",{class:"mt-3 code"},p.h("code",{class:"p-2 text-dark"},n.map(e=>{if(e.note)return p.h("span",{style:{color:g.count===e.index?"red":"black"}},dt[e.note],",")})))})))),p.h("div",{class:"bg-yellow mt-5 py-5"},p.h("div",{class:"container"},p.h("div",{class:"text-center text-secondary"},"Made with ",p.h("span",{role:"img","aria-label":"keyboard emoji"},"🎵"),"by ",p.h("a",{class:"text-secondary",href:"https://github.com/xsf0105"},p.h("strong",null,"@xsf0105"))))))}};ve=mt([q({tag:"app-footer",style:Ye})],ve);const yt=`*{margin:0;padding:0}.icon{width:24px}.piano{margin:0 200px;background:linear-gradient(-65deg,#000,#222,#000,#666,#222 75%);border-top:.8rem solid #282828;-webkit-box-shadow:inset 0 -1px 1px hsla(0,0%,100%,.5),inset -.4rem .4rem #282828;box-shadow:inset 0 -1px 1px #ffffff80,inset -.4rem .4rem #282828;display:-webkit-box;display:-ms-flexbox;display:flex;height:80vh;height:20vh;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;overflow:hidden;padding-bottom:2%;padding-left:2.5%;padding-right:2.5%}@media screen and (max-width: 1000px){.piano{margin:0 10px}}.piano-key{color:#00f;-webkit-box-flex:1;-ms-flex:1;flex:1;margin:0 .1rem;max-width:8.8rem;position:relative}.piano-key__white{display:flex;flex-direction:column-reverse;background:linear-gradient(-30deg,#f8f8f8,#fff);-webkit-box-shadow:inset 0 1px 0 #fff,inset 0 -1px 0 #fff,inset 1px 0 0 #fff,inset -1px 0 0 #fff,0 4px 3px rgba(0,0,0,.7),inset 0 -1px 0 #fff,inset 1px 0 0 #fff,inset -1px -1px 15px rgba(0,0,0,.5),-3px 4px 6px rgba(0,0,0,.5);box-shadow:inset 0 1px #fff,inset 0 -1px #fff,inset 1px 0 #fff,inset -1px 0 #fff,0 4px 3px #000000b3,inset 0 -1px #fff,inset 1px 0 #fff,inset -1px -1px 15px #00000080,-3px 4px 6px #00000080;height:100%;position:relative}.piano-key__black{display:flex;flex-direction:column-reverse;background:linear-gradient(-20deg,#222,#000,#222);-webkit-box-shadow:inset 0 -1px 2px hsla(0,0%,100%,.4),0 2px 3px rgba(0,0,0,.4);box-shadow:inset 0 -1px 2px #fff6,0 2px 3px #0006;border-width:.2rem .4rem 1.2rem;border-style:solid;border-color:#666 #222 #111 #555;height:60%;left:100%;position:absolute;-webkit-transform:translateX(-50%);transform:translate(-50%);top:0;width:70%;z-index:1}.piano-note{color:#000;font-size:0px;text-align:center;height:20px}a{text-decoration:none}.text-center{margin:15px;text-align:center!important}.btn-outline-info{cursor:pointer}.btn-outline-info{color:#17a2b8;background-color:transparent;background-image:none;border-color:#17a2b8}.btn{text-transform:none;margin:15px;display:inline-block;font-weight:400;text-align:center;vertical-align:middle;border:1px solid #17a2b8;padding:8px;font-size:16px;line-height:16px;border-radius:2.5px}.btn-stop{color:#ff7171;border-color:#ff7171}
`,S={A2:{url:"./samples/piano/a54.mp3",isPlay:!1},A3:{url:"./samples/piano/a69.mp3",isPlay:!1},A4:{url:"./samples/piano/a80.mp3",isPlay:!1},A5:{url:"./samples/piano/a74.mp3",isPlay:!1},A6:{url:"./samples/piano/a66.mp3",isPlay:!1},"A#2":{url:"./samples/piano/b54.mp3",isPlay:!1},"A#3":{url:"./samples/piano/b69.mp3",isPlay:!1},"A#4":{url:"./samples/piano/b80.mp3",isPlay:!1},"A#5":{url:"./samples/piano/b74.mp3",isPlay:!1},"A#6":{url:"./samples/piano/b66.mp3",isPlay:!1},B2:{url:"./samples/piano/a55.mp3",isPlay:!1},B3:{url:"./samples/piano/a82.mp3",isPlay:!1},B4:{url:"./samples/piano/a65.mp3",isPlay:!1},B5:{url:"./samples/piano/a75.mp3",isPlay:!1},B6:{url:"./samples/piano/a78.mp3",isPlay:!1},C2:{url:"./samples/piano/a49.mp3",isPlay:!1},C3:{url:"./samples/piano/a56.mp3",isPlay:!1},C4:{url:"./samples/piano/a84.mp3",isPlay:!1},C5:{url:"./samples/piano/a83.mp3",isPlay:!1},C6:{url:"./samples/piano/a76.mp3",isPlay:!1},C7:{url:"./samples/piano/a77.mp3",isPlay:!1},"C#2":{url:"./samples/piano/b49.mp3",isPlay:!1},"C#3":{url:"./samples/piano/b56.mp3",isPlay:!1},"C#4":{url:"./samples/piano/b84.mp3",isPlay:!1},"C#5":{url:"./samples/piano/b83.mp3",isPlay:!1},"C#6":{url:"./samples/piano/b76.mp3",isPlay:!1},D2:{url:"./samples/piano/a50.mp3",isPlay:!1},D3:{url:"./samples/piano/a57.mp3",isPlay:!1},D4:{url:"./samples/piano/a89.mp3",isPlay:!1},D5:{url:"./samples/piano/a68.mp3",isPlay:!1},D6:{url:"./samples/piano/a90.mp3",isPlay:!1},"D#2":{url:"./samples/piano/b50.mp3",isPlay:!1},"D#3":{url:"./samples/piano/b57.mp3",isPlay:!1},"D#4":{url:"./samples/piano/b89.mp3",isPlay:!1},"D#5":{url:"./samples/piano/b68.mp3",isPlay:!1},"D#6":{url:"./samples/piano/b90.mp3",isPlay:!1},E2:{url:"./samples/piano/a51.mp3",isPlay:!1},E3:{url:"./samples/piano/a48.mp3",isPlay:!1},E4:{url:"./samples/piano/a85.mp3",isPlay:!1},E5:{url:"./samples/piano/a70.mp3",isPlay:!1},E6:{url:"./samples/piano/a88.mp3",isPlay:!1},F2:{url:"./samples/piano/a52.mp3",isPlay:!1},F3:{url:"./samples/piano/a81.mp3",isPlay:!1},F4:{url:"./samples/piano/a73.mp3",isPlay:!1},F5:{url:"./samples/piano/a71.mp3",isPlay:!1},F6:{url:"./samples/piano/a67.mp3",isPlay:!1},"F#2":{url:"./samples/piano/b52.mp3",isPlay:!1},"F#3":{url:"./samples/piano/b81.mp3",isPlay:!1},"F#4":{url:"./samples/piano/b73.mp3",isPlay:!1},"F#5":{url:"./samples/piano/b71.mp3",isPlay:!1},"F#6":{url:"./samples/piano/b67.mp3",isPlay:!1},G2:{url:"./samples/piano/a53.mp3",isPlay:!1},G3:{url:"./samples/piano/a87.mp3",isPlay:!1},G4:{url:"./samples/piano/a79.mp3",isPlay:!1},G5:{url:"./samples/piano/a72.mp3",isPlay:!1},G6:{url:"./samples/piano/a86.mp3",isPlay:!1},"G#2":{url:"./samples/piano/b53.mp3",isPlay:!1},"G#3":{url:"./samples/piano/b87.mp3",isPlay:!1},"G#4":{url:"./samples/piano/b79.mp3",isPlay:!1},"G#5":{url:"./samples/piano/b72.mp3",isPlay:!1},"G#6":{url:"./samples/piano/b86.mp3",isPlay:!1}},ge=["-5","-6","1","2","1","2","3","3","3","2","1","2","3","3","3","2","1","2.","1","1","-6","1.","2","2","3.","-5","-6","1","2","1","2","1","1","5","5","3","2","3","2","1","1","3","3","2","1","2.","2","2.","1","1","-6","2.","-5","-6","1","2","1","2","3","3","5","5","3","2","1","2","3","3","6","6","3","2","1","2.","1","1","6","1.","2","2","3","5.","-5","-6","1","2","1","2","1","1","6","6","5","3","3","2","1","1","3","3","3","2","1","2.","2","2.","1","1","-6","1","1","+1","7","+1","6","+1.","6","6","5","6","5","3","2","3","5","6","5","5","5","6","5","6.","6","6.","5","5","6","5","3","3","1","2","3","5","3","2","1","1","1","2","3","6","3","2","1","1","1","+1.","+1","+1.","6","6","+1","6.","5","5","1","+1","7","+1","7","6","5","6","5","3","2","3","5","6","5","5","5","6","5","6.","6","6.","5","5","6","5","3","3","1","2","3","5","3","2","1","1","1","2","3","6","3","2","1","+1..","+1","6","+1","6","5","5","5","6","5","3","2","3","2","2","1","-6","1","1","2","1","1","+1","6","+1","+2","+1","+1","+1","+2","+1","6","+1","+3","+2","+2","+1","6","+1","+2","1"],bt=[...ge,...ge],vt=["3","5","+1","+3","+3.6.3.-4","1","3","+4","+274-4","-7","2","+25-3","-7","+52","7","+13--6","-3","-1","+3+14-2","+4-6","+51","+1","+164--5","-4","+22-7","+353-1","-5","1","2","3-#6-3-1","5","+1#41--#4","+33","+3.6.3.--4","-1","-6","+4","+274--4","-2","-7","+27--3","--7","+5-5","7","+13--6","-3","1","+3+14-2","+4-6","+51","+1","+164--5","-4","+272-7","+1#54-1","-#5","2","4","31-5-1","3","4","5","5-1","5-5","53","5","--7","6-5","72","+1","+1--6","-3","1","+12-3--5","7","+22-7","6","6--4","5-1","5-6","+2","--5","+1-2","+3-7","+3","41-5-1","31","-5","+13-#6-1","+2","+3#61","+3","+3-3--3","+3-#5","+42-7","+3-3","+3--#5","+23-3","#52","+3","+2.5.1.--6","-3","+1.","-6","-3","641--4","7-3","+1-6","+2-3","+2--4","+1-1","+1-6-4","+6","+6--2","+36--6","+36-4-2","+2"],gt=["+2--5","-2","1-5","-7-5--5","3","4","5---5","5-1","5-5","52","53","5--7","6-5","7-7","52","+2","+2--6","+1-3","1-5","-3","+12-3--5","7","+22-7","6","6--4","5-1","5-6","+2--4","+2--5","+1-2","+3-7","+3-2","+3-1","-5","31","-5","+1#63--1","+2","+3+11-#6-5","+35-1","+3--7---7","+3-4","+42-6","+3---4","---5","+3--#5---#5","+2-3","2-7","+3-3","+2.5.1.--6---6","-3","+1.","-6","-3","642--5","7-2","+15-6-4","+2-2","+2--2","+1--6","+14-4-2","6--2","--3","--#4","+3-2","+362-4","+2-2","1-6-4.--5.","1-6","-4--5","3-7-4--5","5","+14--5---5","+3","+3.6.--4","-1","-4","+44-1","+242--4","-2","-7","-2","+25--3","--7","+5-5-2","7--7","+13--6","-3","1","-3","+314--4","+4-1","+5+14-6","+1--4","+14-4--5","-2","+274-5","--5","+3+15--1","-5","2","-5","3-#6--1","5","+13---#4","+3","+3.6.--4","-1","-4","+44-1","+242--4","-2","-7","-2","+25--3","--7","+5-5-2","7--7","+13--6","-3","1","-3","+314--4","+4-1","+5+14-6","+1--4","+14-4--5","-2","+274-5","--5","+2-1--1","2","5-3","+2","+11-5","3-3","+1","7-1--1","2","3-3","7","+11-5","2","3-3","+1","+2--6---6","2","5-3","+2","+11-5","3","5-3","+1","7--6---6","2","3-3","+1","+3--#4","4","6-2","+3","+22-#4","4","6-2","+2","+3--2","4","6--6","+3","+2-4-2","4","6--6","+2","+47--5","4","5-2","+47","+37-7-4","4","5-2","+37","+2-1--1","2","5-3","+2","+11-5","3-3","+1","7-1--1","2","3-3","7","+11-5","2","3-3","+1","+2--6---6","2","5-3","+2","+11-5","3","5-3","+1","7--6---6","2","3-3","+1","+3--#4","4","6-2","+3","+22-#4","4","6-2","+2","+3--2","4","6--6","+3","+2-4-2","4","6--6","--5---5","51--1","-1","51","-1","51--1","3","4","5","+153-1--1","-#6-5-3","3-6-5-1--1","53-6-1--1","+6+3--#6--1","+5","+3--1","+2-1","+1--1","+3.6.--4","-1","-4","+44-1","+242--4","-2","-7","-2","+6.","+2.","--3","--7","+5.7.","-5-2","7--7","+13--6","-3","1","-3","+314","+314--4","+4-1","+5+14-6","+1--4","+14-4--5","-2","+274-5","--5","+3+15--1","-5","2","-5","3-#6--1","5","+13---#4","+3","+3.6.--4","-1","-4","+44-1","+242--4","-2","-7","-2","+25--3","--7","+5-5-2","7--7","+13--6","-3","1","-3","+314--4","+4-1","+5+14-6","+1--4","+14-4--5","-2","+274-5","+153--1","31","-5--1","31--1","5","+1","+2","+3+15-4","+4-6","+51","+13","+1-5","-7","+22","+1-6","1","3","1","-7-5","51","+13","+21","+315-4","+41","+53","+1","+1-5","-7","+22","+1-1","-5","42","-5","31--1"],kt=[...vt,...gt],_t=["4","6","6-1","+1","+1-4","+4","+4-1","+3","+3-5","+2","62","+2","+2-7","2","--7","+2","+2-5","+3","+3-5","+6","+6-1","+3","+3-4","+1","61","+1","+1-6","+7","++1-3","++4","++4-2","6","6-6","+1","+1-4","+4","+4-6","+3","+3-5","+2","62","+2","+2-7","+22","+3","+3-1","+#2","+3-5","+6","+6-3","+5","+5-5","+4","+4-4","+5","+6","++4","++4-6","-7-1","--4","6-1","6-4","+1-5","+1-6","+4","+41","+3","+3--5","+2-2","6-5","+2-6","+2-7","2","+2-7-1","+2-5","+2-7","+3-5","+31","+6","+6-6","+3","+3--4","-1","6-4","+1-5","+1-6","-7","1","--2","+6--6","6-2","+1-3","+1-4","+4","+4-6","+3","+3--5","+4-2","6-5","+2-6","+2-7","+2","+42","+3","+3-7-1","+#2-5","+3-7","+6-5","+61","+5","+5-1","+4","+4--4","-1","1-6-4","-1","+6-4","+5","+4","+4--3","+3","+2--7","+2-4","+2-7","+2-4","+2-7","+6-4","+5-4","+5-1","-5","531","-5","+51","+3-5","+3","+3--7","+2-5","+1--6","+1-3","+1-6","6-3","+1-6","+5-3","+5-6","+4-3","+4--2","-6","-2","+4-6","+4-2","+1-6","+1-2","4-6","6--5","-2","5-7","+2-2","+2-7","-2","-7","+2-2","+2--5","+2-2","+2-7","+2-5","+4","+4-7","+2-5","+4-7","+2-5","+4+27-1","+4-4","+41","+4-4","+61","+5-4","+51","+5-4","++3+5--1.","+1","+6","+5","+4","+4","+5","+6--4","+1-1","+5--6","+6-1","+6--4","+1-1","+5--6","+6-1","+6-1","+5-5","+5-3","+6-5","+7","+7-1","+6-5","+5-3","+3-5","+4-2","6-6","+2-4","+4-6","+4-2","6-6","+2-4","+3-6","3--6","+3-3","+3-1","+6-3","++1","++1--6","+6-3","+4-1","+3-3","+2--7","+7-5","+7","+7-2","-5","--7","++1-5","+7-2","+6-5","+1--4","+6-1","+6","--6","-1","--4","+7-1","+6--6","+4-1","75--5","+5-2","+5","--7","-2","--5","+5-2","+4--7","+6-2","-1","+5-5","+4-7","+6-1","4-2","+5-7","5-3","+41","+6--4","+1-1","+5--6","+6-1","--4","+1-1","+5--6","+6-1","-1","+5-5","+5-3","+6-5","+7","+7-1","++1-5","+5-3","+4-5","+4-2","6-6","+2-4","+4-6","-2","6-6","+2-4","+3-6","--6","-3","+3-1","+6-3","++1","++1--6","+6-3","+4-1","+3-3","+2--7","+7-5","+7","+7-2","-5","--7","++15","+7-2","+6-5","+1-4","+6-1","+6","--6","-1","--4","+7-1","+6--6","+4-1","7--5","+5-2","+5","+5--7","-2","--5","-2","--7","-2","531-1--1","+6","+4","+4","+6-1","+5","+5","+4","+4-4","1","61","-4","1.","-5","-7","4-7","-5","-7","-1","-3","-7-3","-3","2-3","-3","3-3","41-6-4-1--4"],Ct=[..._t],J=[{black:{name:"C#2",keyCode:81},white:{name:"C2",keyCode:49}},{black:{name:"D#2",keyCode:87},white:{name:"D2",keyCode:50}},{black:{name:null,keyCode:null},white:{name:"E2",keyCode:51}},{black:{name:"F#2",keyCode:69},white:{name:"F2",keyCode:52}},{black:{name:"G#2",keyCode:82},white:{name:"G2",keyCode:53}},{black:{name:"A#2",keyCode:84},white:{name:"A2",keyCode:54}},{black:{name:null,keyCode:null},white:{name:"B2",keyCode:55}},{black:{name:"C#3",keyCode:81},white:{name:"C3",keyCode:49}},{black:{name:"D#3",keyCode:87},white:{name:"D3",keyCode:50}},{black:{name:null,keyCode:null},white:{name:"E3",keyCode:51}},{black:{name:"F#3",keyCode:69},white:{name:"F3",keyCode:52}},{black:{name:"G#3",keyCode:82},white:{name:"G3",keyCode:53}},{black:{name:"A#3",keyCode:84},white:{name:"A3",keyCode:54}},{black:{name:null,keyCode:null},white:{name:"B3",keyCode:55}},{black:{name:"C#4",keyCode:81},white:{name:"C4",keyCode:49}},{black:{name:"D#4",keyCode:87},white:{name:"D4",keyCode:50}},{black:{name:null,keyCode:null},white:{name:"E4",keyCode:51}},{black:{name:"F#4",keyCode:69},white:{name:"F4",keyCode:52}},{black:{name:"G#4",keyCode:82},white:{name:"G4",keyCode:53}},{black:{name:"A#4",keyCode:84},white:{name:"A4",keyCode:54}},{black:{name:null,keyCode:null},white:{name:"B4",keyCode:55}},{black:{name:"C#5",keyCode:81},white:{name:"C5",keyCode:49}},{black:{name:"D#5",keyCode:87},white:{name:"D5",keyCode:50}},{black:{name:null,keyCode:null},white:{name:"E5",keyCode:51}},{black:{name:"F#5",keyCode:69},white:{name:"F5",keyCode:52}},{black:{name:"G#5",keyCode:82},white:{name:"G5",keyCode:53}},{black:{name:"A#5",keyCode:84},white:{name:"A5",keyCode:54}},{black:{name:null,keyCode:null},white:{name:"B5",keyCode:55}},{black:{name:"C#6",keyCode:81},white:{name:"C6",keyCode:49}},{black:{name:"D#6",keyCode:87},white:{name:"D6",keyCode:50}},{black:{name:null,keyCode:null},white:{name:"E6",keyCode:51}},{black:{name:"F#6",keyCode:69},white:{name:"F6",keyCode:52}},{black:{name:"G#6",keyCode:82},white:{name:"G6",keyCode:53}},{black:{name:"A#6",keyCode:84},white:{name:"A6",keyCode:54}},{black:{name:null,keyCode:null},white:{name:"B6",keyCode:55}}];var xt=Object.defineProperty,wt=Object.getOwnPropertyDescriptor,Pt=(n,e,t,r)=>{for(var o=r>1?void 0:r?wt(e,t):e,a=n.length-1,i;a>=0;a--)(i=n[a])&&(o=(r?i(e,t,o):i(o))||o);return r&&o&&xt(e,t,o),o};let ke=class extends Be(p){constructor(){super(...arguments);Y(this,"setSong",e=>g.setSong(e));Y(this,"setCount",e=>g.setSong(e))}componentDidMount(){document.onkeydown=e=>{const t=e||window.event||arguments.callee.caller.arguments[0],r=o=>{t.shiftKey===!0?this.playNote(`${o}2`):t.altKey===!0?this.playNote(`${o}5`):t.ctrlKey===!0?this.playNote(`${o}3`):t.metaKey===!0?(this.playNote(`${o}6`),t.returnValue=!1):this.playNote(`${o}4`)};if(t&&49<=t.keyCode&&t.keyCode<=55)switch(t.keyCode){case 49:r("C");break;case 50:r("D");break;case 51:r("E");break;case 52:r("F");break;case 53:r("G");break;case 54:r("A");break;case 55:r("B");break}if(t&&(t.keyCode===81||t.keyCode===87||t.keyCode===69||t.keyCode===82||t.keyCode===84))switch(t.keyCode){case 81:r("C#");break;case 87:r("D#");break;case 69:r("F#");break;case 82:r("G#");break;case 84:r("A#");break}}}stopSong(){clearTimeout(this.timer),g.song=[],g.count=0,console.log("reset")}playNote(e){if(console.log(S,e,999),console.log(S[e]),!S[e].isPlay){const t=this[e].childNodes[1];this[e].style.background="linear-gradient(-20deg, #3330fb, #000, #222)";const r=setTimeout(()=>{this[e].getAttribute("data-type")==="white"?this[e].style.background="linear-gradient(-30deg, #f8f8f8, #fff)":this[e].style.background="linear-gradient(-20deg, #222, #000, #222)",clearTimeout(r)},500);t.currentTime=0,t.play(),S[e].isPlay=!0;const o=setTimeout(()=>{S[e].isPlay=!1,clearTimeout(o)},500)}}playSong(e){g.setSong([...e]);let t=0,r=0;const o=async()=>{if(t<e.length&&g.song.length>0){switch(typeof e[t]){case"string":switch(e[t].match(/[0-9]/g).length){case 1:r=this.handleString(e,t);break;default:r=this.handleStrings(e,t);break}break;case"object":console.log(e[t].note),r=e[t].time,this.playNote(e[t].note);break;case"number":switch(e[t]){case 0:r=1e3;break}break}await new Promise(a=>{const i=setTimeout(()=>{clearInterval(i),a()},r)}),t++,this.update(),g.add(),o()}else{clearTimeout(this.timer),g.song=[],g.count=0;return}};o()}playSongByInterval(e){clearInterval(this.interval);let t=0;this.interval=setInterval(()=>{if(t<e.length){switch(typeof e[t]){case"string":switch(e[t].match(/[0-9]/g).length){case 1:this.handleString(e,t);break;default:this.handleStrings(e,t);break}break;case"object":console.log(e[t].note),e[t].time,this.playNote(e[t].note);break;case"number":switch(e[t]){}break}++t}else clearInterval(this.interval)},500)}handleStrings(e,t){const r=/[0-9]/g,o=e[t];let a=1;const i=[];for(;;){const l=r.exec(o);if(l)i.push({text:l[0],index:l.index,order:a}),a++;else break}i.map(l=>{switch(o[l.index-1]){case"1":case"2":case"3":case"4":case"5":case"6":case"7":break;case"+":switch(l.text=`+${l.text}`,o[l.index-2]){case"+":l.text=`+${l.text}`;break}break;case"-":switch(l.text=`-${l.text}`,o[l.index-2]){case"-":l.text=`-${l.text}`;break}break;case"#":switch(l.text=`#${l.text}`,o[l.index-2]){case"-":switch(l.text=`-${l.text}`,o[l.index-3]){case"-":l.text=`-${l.text}`;break}break;case"+":switch(l.text=`+${l.text}`,o[l.index-3]){case"+":l.text=`+${l.text}`;break}break}break}switch(o[l.index+1]){case".":switch(l.text=`${l.text}.`,o[l.index+2]){case".":l.text=`${l.text}.`;break}break}});const c=i.map(l=>l.text),s=[];return c.forEach((l,u)=>{s.push(this.handleString(c,u))}),s.sort()[0]}handleString(e,t){const r=e[t].match(/[0-9]/g)[0],o=e[t].split("-").length-1,a=e[t].split("+").length-1,i=e[t].split(".").length-1,c=e[t].split("#").length-1;let s,l,u;switch(r){case"0":return u=1e3;case"1":s="C";break;case"2":s="D";break;case"3":s="E";break;case"4":s="F";break;case"5":s="G";break;case"6":s="A";break;case"7":s="B";break}switch(o){case 0:l=4;break;case 1:l=3;break;case 2:l=2;break}switch(a){case 0:l=4;break;case 1:l=5;break;case 2:l=6;break}switch(i){case 0:u=500;break;case 1:u=1e3;break;case 2:u=1500;break}return console.log(`${s+(c>0?"#":"")+l}`),this.playNote(`${s+(c>0?"#":"")+l}`),u}recordSong(){}render(){return p.h(p.Fragment,null,p.h("div",{class:""},p.h("div",{class:"piano"},J==null?void 0:J.map(e=>p.h("div",{class:"piano-key"},p.h("div",{"data-type":"white",ref:t=>{this[e.white.name]=t},class:"piano-key__white",onClick:this.playNote.bind(this,e.white.name),"data-key":e.white.keyCode,"data-note":e.white.name},p.h("span",{class:"piano-note"},e.white.name),p.h("audio",{preload:"auto",src:S[e.white.name].url,hidden:"true","data-note":e.white.name,class:"audioEle"})),p.h("div",{"data-type":"black",ref:t=>{this[e.black.name]=t},style:{display:e.black.name?"block":"none"},class:"piano-key__black",onClick:this.playNote.bind(this,e.black.name),"data-key":e.black.keyCode,"data-note":e.black.name},p.h("span",{class:"piano-note",style:"color:#fff"},e.black.name),p.h("audio",{preload:"auto",src:S[e.black.name]&&S[e.black.name].url,hidden:"true","data-note":e.black.name,class:"audioEle"}))))),p.h("div",{class:"text-center"},p.h("p",null,"Click the button below to let the piano play the song automatically:"),p.h("p",null,"点击下面按钮让钢琴自动演奏歌曲:",g.count>0?"1":"0"),p.h("div",null,g.count>0?p.h("button",{onClick:this.stopSong.bind(this),class:"btn btn-outline-info btn-stop"},"Stop 暂停"):p.h("div",null,p.h("button",{onClick:this.playSong.bind(this,Fe),class:"btn btn-outline-info"},"月亮代表我的心"),p.h("button",{onClick:this.playSong.bind(this,kt),class:"btn btn-outline-info"},"蒲公英的约定"),p.h("button",{onClick:this.playSong.bind(this,Ct),class:"btn btn-outline-info"},"小幸运"),p.h("button",{onClick:this.playSong.bind(this,bt),class:"btn btn-outline-info"},"富士山下&爱情转移"))))))}};ke=Pt([q({tag:"app-piano",style:yt})],ke);var Et=Object.defineProperty,St=Object.getOwnPropertyDescriptor,Dt=(n,e,t,r)=>{for(var o=r>1?void 0:r?St(e,t):e,a=n.length-1,i;a>=0;a--)(i=n[a])&&(o=(r?i(e,t,o):i(o))||o);return r&&o&&Et(e,t,o),o};let _e=class extends p{render(){return p.h("div",{class:"app"},p.h("app-header",null),p.h("app-piano",null),p.h("app-footer",null))}};_e=Dt([q({tag:"my-app",style:He})],_e);
